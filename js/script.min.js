function stickyHeader() {
	var stickyHeader = $("#navbar");

	$(window).scroll(function() {
		if( $(this).scrollTop() > 35 ) {
			stickyHeader.addClass("navbar-scrolled");
		}
		else {
			stickyHeader.removeClass("navbar-scrolled");
		}
	});
}

function resizeVideo() {

	var wrapper = $('#videoWrapper');
	var video = $('#frontVideo');

	function vidWrapperHeight() {

		var wrapperHeight = wrapper.height();
		var videoHeight =  video.height();

		if (videoHeight < 800) {
			wrapper.height(videoHeight);
			return;
		} else {
			wrapper.height(800);
		}
	};

	vidWrapperHeight();

	$(window).resize(function() {
		 vidWrapperHeight();
	});

}

stickyHeader();
resizeVideo();

$('.toggle').click(function() {
  
    var $this = $(this);
  
    if ($this.next().hasClass('show')) {
    	$this.next().slideUp(350);
        $this.next().removeClass('show');
        $this.removeClass('toggled');
    } else {
        $this.next().slideDown(350);
        $this.next().addClass('show');
        $this.addClass('toggled');
    }
});

window.validateForm = function(file) {
	var fileName = file;
	var Url = "../data/"+fileName+".xml";

	var xhr = new XMLHttpRequest();
	xhr.open('HEAD', Url, false);
	xhr.send();

	if (xhr.status == "404") {
		alert('No xml file exists on the server.');
		return false;
	} else {
		alert('The result is saved on the server.');
			return true;
	}
}

window.validateRaceResultForm = function() {
	var fileName = document.forms["resultInput"]["races"].value;
	var Url = "../data/results/"+fileName+".xml";

	var xhr = new XMLHttpRequest();
	xhr.open('HEAD', Url, false);
	xhr.send();
					     
	if (xhr.status == "404") {
		alert('The result is saved on the server.');
		return true;
	} else {
		if(confirm('The result for this race already exists. Do you want to overwrite it?')) {
			return true;
		} else {
			return false;
		}
	}
}

$(".admin_page_tab").click(function() {
   // Hides all ingame menu's.
    $(".admin_page_text").addClass(" not_visible").removeClass("visible");
    $(".admin_page_tab").removeClass("active");

   // Shows appropriate one.
   var info = $(this).data("admintab"); // Fetches the value of the data-clas attribute.
   $(".admin_page_text[data-admintab="+info+"]").addClass(" visible").removeClass("not_visible");
    $(".admin_page_tab[data-admintab="+info+"]").addClass(" active");
});





